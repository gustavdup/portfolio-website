---
import DarkModeToggle from './DarkModeToggle.astro';

export interface Props {
  currentPath: string;
}

const { currentPath } = Astro.props;

// Function to check if a path is active
const isActive = (path: string) => {
  if (path === '/' && currentPath === '/') return true;
  if (path !== '/' && currentPath.startsWith(path)) return true;
  return false;
};
---

<nav class="flex w-full justify-center">
  <div class="flex items-center gap-6 px-7 py-3 rounded-2xl text-text-light dark:text-text-dark backdrop-blur-xl border border-gray-200/80 dark:border-gray-700/80 bg-bg-light/90 dark:bg-bg-dark-alt/90 shadow-xl transition-all duration-300">
    <div class="flex items-center gap-6 text-sm">
      <a class={`relative group font-medium transition-colors duration-200 px-2 ${isActive('/') ? 'text-primary' : 'text-gray-600 dark:text-gray-400 hover:text-primary'}`} href="/">About
        <span class={`absolute -bottom-0.5 left-0 h-[1.5px] bg-primary transition-all duration-300 ${isActive('/') ? 'w-full' : 'w-0 group-hover:w-full'}`}></span>
      </a>
      <a class={`relative group font-medium transition-colors duration-200 px-2 ${isActive('/projects') ? 'text-primary' : 'text-gray-600 dark:text-gray-400 hover:text-primary'}`} href="/projects">Portfolio
        <span class={`absolute -bottom-0.5 left-0 h-[1.5px] bg-primary transition-all duration-300 ${isActive('/projects') ? 'w-full' : 'w-0 group-hover:w-full'}`}></span>
      </a>
      <a class={`relative group font-medium transition-colors duration-200 px-2 ${isActive('/experience') ? 'text-primary' : 'text-gray-600 dark:text-gray-400 hover:text-primary'}`} href="/experience">Experience
        <span class={`absolute -bottom-0.5 left-0 h-[1.5px] bg-primary transition-all duration-300 ${isActive('/experience') ? 'w-full' : 'w-0 group-hover:w-full'}`}></span>
      </a>
      <a class={`relative group font-medium transition-colors duration-200 px-2 ${isActive('/blog') ? 'text-primary' : 'text-gray-600 dark:text-gray-400 hover:text-primary'}`} href="/blog">Articles
        <span class={`absolute -bottom-0.5 left-0 h-[1.5px] bg-primary transition-all duration-300 ${isActive('/blog') ? 'w-full' : 'w-0 group-hover:w-full'}`}></span>
      </a>
      <a class={`relative group font-medium transition-colors duration-200 px-2 ${isActive('/contact') ? 'text-primary' : 'text-gray-600 dark:text-gray-400 hover:text-primary'}`} href="/contact">Contact
        <span class={`absolute -bottom-0.5 left-0 h-[1.5px] bg-primary transition-all duration-300 ${isActive('/contact') ? 'w-full' : 'w-0 group-hover:w-full'}`}></span>
      </a>
    </div>
    <div class="h-4 w-[1.5px] bg-gray-300 dark:bg-gray-600 mx-5"></div>
    <DarkModeToggle />
  </div>
</nav>
