---
import { getEntryBySlug } from 'astro:content';
const bio = await getEntryBySlug('bio', 'bio');
const education = await getEntryBySlug('education', 'education').catch(() => null);
---

<div class="max-w-4xl mx-auto">
  <!-- Main Hero Section -->
  <div class="flex items-start gap-8 mb-16">
    <!-- Profile Image -->
    <div class="relative w-20 h-20 rounded-full overflow-hidden flex-shrink-0 border border-zinc-200 dark:border-zinc-800">
      <img src="/profile.jpg" alt="Gustav du Plessis" class="w-full h-full object-cover" />
    </div>
    
    <!-- Hero Content -->
    <div class="flex-1">
      <h1 class="text-lg md:text-xl lg:text-2xl font-normal text-zinc-900 dark:text-zinc-100 leading-relaxed mb-6">
        Hey, I'm Gustav. I build, design, and create digital experiences that matter. 
        <span class="text-zinc-600 dark:text-zinc-400">Based in South Africa.</span>
        {bio?.data.email && (
          <a href={`mailto:${bio.data.email}`} class="group inline-flex items-center ml-3 text-primary hover:text-primary-600 transition-colors">
            <span class="font-medium border-b border-primary/30 hover:border-primary transition-colors">Say hello</span>
            <span class="ml-1 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300">
              <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4" xmlns="http://www.w3.org/2000/svg">
                <line x1="5" y1="12" x2="19" y2="12"></line>
                <polyline points="12 5 19 12 12 19"></polyline>
              </svg>
            </span>
          </a>
        )}
      </h1>
    </div>
  </div>

  <!-- Work Section -->
  <section class="mb-16">
    <h2 class="text-lg font-medium text-zinc-900 dark:text-zinc-100 mb-6 tracking-wide uppercase">Work</h2>
    <div class="space-y-4">
      <div class="flex justify-between items-start py-3 border-b border-zinc-200 dark:border-zinc-800">
        <div>
          <h3 class="font-medium text-zinc-900 dark:text-zinc-100">Senior Product Manager</h3>
          <p class="text-zinc-600 dark:text-zinc-400 text-sm">Current Role</p>
        </div>
        <div class="text-right">
          <p class="text-zinc-600 dark:text-zinc-400 text-sm">2024 - Present</p>
          <p class="text-zinc-500 dark:text-zinc-500 text-sm">Company Name</p>
        </div>
      </div>
      <a href="/experience" class="inline-flex items-center text-sm text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors group">
        <span>Previous roles</span>
        <span class="ml-1 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300">
          <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3" xmlns="http://www.w3.org/2000/svg">
            <line x1="5" y1="12" x2="19" y2="12"></line>
            <polyline points="12 5 19 12 12 19"></polyline>
          </svg>
        </span>
      </a>
    </div>
  </section>

  <!-- What I Do Section -->
  <section class="mb-16">
    <h2 class="text-lg font-medium text-zinc-900 dark:text-zinc-100 mb-6 tracking-wide uppercase">What I Do</h2>
    <div class="prose prose-zinc dark:prose-invert max-w-none">
      <p class="text-zinc-700 dark:text-zinc-300 leading-relaxed">
        Started out learning how to code. Got obsessed with building great products and experiences.
        Now I focus on product management and design, helping teams build the right things, the right way.
        On the side, I create digital tools and experiments. I care about clean design, user experience,
        and the kind of products that make people's lives better.
      </p>
    </div>
  </section>

  <!-- Education Section -->
  <section class="mb-16">
    <h2 class="text-lg font-medium text-zinc-900 dark:text-zinc-100 mb-6 tracking-wide uppercase">Education</h2>
    <div class="prose prose-zinc dark:prose-invert max-w-none">
      <div class="education-content text-sm">
        {education ? <education.Content /> : (
          <div class="space-y-6">
            <div class="border-b border-zinc-200 dark:border-zinc-800 pb-6">
              <div class="flex justify-between items-start mb-2">
                <h3 class="font-medium text-zinc-900 dark:text-zinc-100">PhD (Information Technology): Information Systems</h3>
                <span class="text-sm text-zinc-600 dark:text-zinc-400">2025 - Present</span>
              </div>
              <p class="text-zinc-600 dark:text-zinc-400 text-sm mb-2">University of Pretoria, South Africa <span class="text-zinc-500 dark:text-zinc-500">• Candidate</span></p>
              <p class="text-zinc-700 dark:text-zinc-300 text-sm">Research focused on enhancing user onboarding and change readiness through behavioural models and interventions to support successful enterprise software adoption.</p>
            </div>
            
            <div class="border-b border-zinc-200 dark:border-zinc-800 pb-6">
              <div class="flex justify-between items-start mb-2">
                <h3 class="font-medium text-zinc-900 dark:text-zinc-100">Master's in Information Technology: ICT Management</h3>
                <span class="text-sm text-zinc-600 dark:text-zinc-400">2020 - 2022</span>
              </div>
              <p class="text-zinc-600 dark:text-zinc-400 text-sm mb-2">University of Pretoria, South Africa</p>
              <ul class="text-zinc-700 dark:text-zinc-300 text-sm space-y-1">
                <li>• Co-authored and presented a peer-reviewed paper titled "The Diffusion of Innovation Experience".</li>
                <li>• Developed a prototype for an IoT solar product that optimises energy use for high-demand appliances.</li>
              </ul>
            </div>
            
            <div class="border-b border-zinc-200 dark:border-zinc-800 pb-6">
              <div class="flex justify-between items-start mb-2">
                <h3 class="font-medium text-zinc-900 dark:text-zinc-100">Bachelor of Commerce, Honours: Business Management</h3>
                <span class="text-sm text-zinc-600 dark:text-zinc-400">2017 - 2019</span>
              </div>
              <p class="text-zinc-600 dark:text-zinc-400 text-sm mb-2">University of South Africa</p>
              <p class="text-zinc-700 dark:text-zinc-300 text-sm">• Graduated Cum Laude.</p>
            </div>
            
            <div>
              <div class="flex justify-between items-start mb-2">
                <h3 class="font-medium text-zinc-900 dark:text-zinc-100">Bachelor of Commerce: Marketing & Management Science</h3>
                <span class="text-sm text-zinc-600 dark:text-zinc-400">2011 - 2016</span>
              </div>
              <p class="text-zinc-600 dark:text-zinc-400 text-sm">IMM Graduate School, South Africa</p>
            </div>
          </div>
        )}
      </div>
    </div>
  </section>

  <!-- Recent Work Section -->
  <section class="mb-16">
    <h2 class="text-lg font-medium text-zinc-900 dark:text-zinc-100 mb-6 tracking-wide uppercase">Recent Work</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      <a href="/projects" class="group block p-4 rounded-lg border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 transition-all duration-200 hover:shadow-sm">
        <h3 class="font-medium text-zinc-900 dark:text-zinc-100 group-hover:text-primary transition-colors">Project Name</h3>
        <p class="text-sm text-zinc-600 dark:text-zinc-400 mt-1">Brief description of the project</p>
      </a>
      <a href="/projects" class="group block p-4 rounded-lg border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 transition-all duration-200 hover:shadow-sm">
        <h3 class="font-medium text-zinc-900 dark:text-zinc-100 group-hover:text-primary transition-colors">Another Project</h3>
        <p class="text-sm text-zinc-600 dark:text-zinc-400 mt-1">Brief description of the project</p>
      </a>
      <a href="/projects" class="group block p-4 rounded-lg border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 transition-all duration-200 hover:shadow-sm">
        <h3 class="font-medium text-zinc-900 dark:text-zinc-100 group-hover:text-primary transition-colors">Third Project</h3>
        <p class="text-sm text-zinc-600 dark:text-zinc-400 mt-1">Brief description of the project</p>
      </a>
    </div>
    <a href="/projects" class="inline-flex items-center text-sm text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors group mt-6">
      <span>View all projects</span>
      <span class="ml-1 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300">
        <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3" xmlns="http://www.w3.org/2000/svg">
          <line x1="5" y1="12" x2="19" y2="12"></line>
          <polyline points="12 5 19 12 12 19"></polyline>
        </svg>
      </span>
    </a>
  </section>
</div>
